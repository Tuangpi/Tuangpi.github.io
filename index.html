<!-- <!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="QR Code Reader for JS">

  <title>Scan Qr Code</title>
  <style>
      html,
      body {
        padding: 0;
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
      }
      .wrapper {
        padding: 0 4rem;
        display: flex;
        justify-content: center;
      }
      .button{
        background-color: darkred;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        outline: none;
        color: white;
        cursor: pointer;
      }
      .video{
        margin-top: 2rem;
      }
      .result{
        display: flex;
      }
      #result{
        margin-left: 1rem;
      }
  </style>
</head>

<body>

  <main class="wrapper" style="padding-top:2em">

    <section class="container" id="demo-content">
      <h1 class="title">Scan QR Code from Video Camera</h1>
        <a class="button" id="startButton">Start</a>
        <a class="button" id="resetButton">Reset</a>

      <div class="video">
        <video id="video" width="300" height="200" style="border: 1px solid gray">
          <source src="https://youtu.be/9-axfthM2bI" >
        </video>
        <button id="switchCamera">Switch Camera</button>
      </div>

      <div class="result"><label>Result:</label>
      <div><code id="result"></code></div></div>
  </main>

  <script type="text/javascript" src="zxing.min.js"></script>
  <script type="text/javascript" src="app.js"></script>

</body>

</html> -->

<!DOCTYPE html>
<html>
<head>
    <title>Camera Switcher</title>
</head>
<body>
    <h1>Camera Switcher</h1>
    <video id="video" width="640" height="480" autoplay style="border: 1px solid gray;"></video>
    <button id="switchCamera">Switch Camera</button>

    <script>
        const video = document.getElementById('video');
        const switchCameraButton = document.getElementById('switchCamera');
        let currentCamera = 'user'; // 'user' for front camera, 'environment' for back camera

        // Function to initialize the camera with the specified facing mode
        function initCamera(facingMode) {
            const constraints = {
                video: { facingMode: facingMode }
            };

            navigator.mediaDevices.getUserMedia(constraints)
                .then(function (stream) {
                    video.srcObject = stream;
                    currentCamera = facingMode;
                })
                .catch(function (error) {
                    console.error('Error accessing the camera: ', error);
                });
        }

        // Function to toggle between front and back cameras
        function toggleCamera() {
            if (currentCamera === 'user') {
                initCamera('environment'); // Switch to back camera
            } else {
                initCamera('user'); // Switch to front camera
            }
        }

        // Add a click event listener to the switchCameraButton
        switchCameraButton.addEventListener('click', toggleCamera);

        // Initialize the camera with the default facing mode (front camera)
        initCamera(currentCamera);
    </script>
</body>
</html>
